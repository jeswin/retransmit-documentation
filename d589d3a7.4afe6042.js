(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{141:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(2),a=n(6),o=(n(0),n(151)),s={id:"getting-started",title:"Getting Started"},i={id:"getting-started",isDocsHomePage:!1,title:"Getting Started",description:"The first step is to install Retransmit. Let's assume you're going to install it with npm on Node.JS",source:"@site/docs/getting-started.md",permalink:"/docs/getting-started",sidebar:"someSidebar",previous:{title:"Installation",permalink:"/docs/install"},next:{title:"Response Aggregation",permalink:"/docs/response-aggregation"}},c=[{value:"Headers, Cookies and Request Body",id:"headers-cookies-and-request-body",children:[]}],l={rightToc:c};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The first step is to install Retransmit. Let's assume you're going to install it with npm on Node.JS"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"npm install -g retransmit.\n")),Object(o.b)("p",null,"There are two command line options that you need to know."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"'-p' specifies the port on which requests will be accepted"),Object(o.b)("li",{parentName:"ul"},"'-c' specifies the location of the configuration file.")),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"retransmit -p 80 -c /home/bruce/configs/retransmit.js\n")),Object(o.b)("p",null,"Note: The config file is a JS file, not JSON. If you like TypeScript (like us), the types for the config file are available at ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/retransmit/retransmit/blob/master/src/types/index.ts"}),"https://github.com/retransmit/retransmit/blob/master/src/types/index.ts"),"."),Object(o.b)("p",null,"Let's look at a basic config file. Our first goal is to expose an end point which merges responses from two services (account service and a messaging service).\nAnd here it is."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),'module.exports = {\n  http: {\n    routes: {\n      "/dashboard": {\n        GET: {\n          services: {\n            accountservice: {\n              type: "http" as "http",\n              url: "http://localhost:6666/account",\n            },\n            messagingservice: {\n              type: "http" as "http",\n              url: "http://localhost:6667/messages",\n            },\n          }}}}}};\n')),Object(o.b)("p",null,"The example above receives a request at the url '/dashboard' and passes it on to account service and messaging service. Once responses are received, retransmit will merge the results and send the final response back to the client. For instance, if accountservice returned ",Object(o.b)("inlineCode",{parentName:"p"},'{ "name": "batman" }')," and messaging service returned ",Object(o.b)("inlineCode",{parentName:"p"},'{ "messages": 10 }')," the final response will be ",Object(o.b)("inlineCode",{parentName:"p"},'{ "name": "batman", "messages": 10 }'),"."),Object(o.b)("h3",{id:"headers-cookies-and-request-body"},"Headers, Cookies and Request Body"),Object(o.b)("p",null,"Headers, cookies and body are passed unmodified to the downstream services."))}p.isMDXComponent=!0},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,m=u["".concat(s,".").concat(d)]||u[d]||b[d]||o;return n?a.a.createElement(m,i(i({ref:t},l),{},{components:n})):a.a.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);